import { Serializer } from "./Serializer";

/*convert to custom class*/
class RESTSerializer extends Serializer{
    static __lMod = "RESTSerializer";
    static PROCESSENTITY = "processEntity"; 
    static NORMALIZE = "normalizePayload"; 
    static SERIALIZE = "serializePayload"; 
    static SERIALIZEKEY = "serializeKey";
    static NORMALIZEKEY = "normalizeKey";
    static SERIALIZEENTITY = "serializeEntity";
    static NORMALIZEENTITY = "normalizeEntity";
    static DESERIALIZEKEY = "deserializeKey";
    static GETMETA = "getMeta";
    static IDBRESPONSE = "idbResponse";
    static REFERENCEKEY = "referenceKey";

    static __extendedBy = [];
    static register(parent){
        // this.__class = RESTSerializer;
        // var name = this._name = dbModName(this.name, "Serializer");
    }
    constructor(db){
        super();
        this.__type = "REST";
        var lIns = db.lyte,
        name = this.constructor._name;
        Object.defineProperty(this,'$lg', {
            value : lIns.__gl
        });
        this.deserializeEmptyData = true;
        if(!db.getSerializerObj(name)){
            db.serializer.REST = db.serializer.REST || {}; 
            db.serializer.REST[name] = this; 
        }
    }
}

export { RESTSerializer };