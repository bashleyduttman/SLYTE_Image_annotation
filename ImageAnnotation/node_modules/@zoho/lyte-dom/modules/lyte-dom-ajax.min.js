!function(n){"object"==typeof module&&"object"==typeof module.exports?module.exports=function(e,t){void 0===e&&void 0===window.$L?console.error("Unable to find a scope to add into - lyte-dom-ajax"):n(e||window.$L,t)}:n(window.$L,window.lyteDomObj)}(function(M,X){var $,I=/^(HEAD|GET)$/,J=/\?/,N=new Date,k=/(.*?):\s*(.*?)[\r\n]/g,G=/#.*$/,P=/([?&])_=[^&]*/;function a(e){var n=[];return M.each(e,function(){var e=this.name,t=this.value;t=M.isFunction(t)?t():t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)}),n.join("&")}function W(e){if("string"==typeof e)return e;if(Array.isArray(e))return a(e);var t,n=e,r=[];for(t in n)r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n[t]?"":n[t]);return r.join("&")}function _(e){return"text"!==(e.responseType||"text")||"string"!=typeof e.responseType}function z(e,t,n){for(var r;r=e.shift();)r.apply(t,n)}"undefined"!=typeof document&&(($=document.createElement("a")).href=window.location.href),M.extend({active:0,ajaxSettings:{contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/,script:/\b(?:java|ecma)script\b/},converters:{"* text":String,"text text":function(e){return e},"text html":function(e){return e},"text json":JSON.parse,"text xml":M.parseXML,"text javascript":M.Evaluate},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},accepts:{"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"}},ajaxSetup:function(e){for(var t in e)M.ajaxSettings[t]=e[t]},ajax:function(e,s){"object"==typeof e&&(e=(s=e).url);var t,n=s=s||{},r=["accepts","converters","contents","headers"],a=M.ajaxSettings;for(t in a)if(~r.indexOf(t)){o=c=i=void 0;var o,i=n[t]||(n[t]={}),c=a[t];for(o in c)o=o.toLowerCase(),i.hasOwnProperty(o)||(i[o]=c[o])}else n[t]=(null==n[t]?a:n)[t];s.url||(s.url=e);var u,p,l,d,f,x,h,y,m,g,v,T,j,b,w=[],S=[],R=[],e=s.xhr,H=(s.type||"GET").toUpperCase(),C=I.test(H),D=s.context||s,L=s.context&&(s.context instanceof X||s.nodeType)?M(s.context):M.ev,q=s.beforeSend,A="cancelled",E={},F={readyState:0,setRequestHeader:function(e,t){return null==h&&t&&(E[e]=t),this},overrideMimeType:function(e){return null==h&&(s.mimeType=e),this},getAllResponseHeaders:function(){return h?d:null},getResponseHeader:function(e){var t;if(h){if(!f)for(f={};t=k.exec(d);)f[t[1].toLowerCase()]=t[2];return(t=f[e.toLowerCase()])||null}},abort:function(e){e=e||A;return O&&O.abort(),U(0,e),this},then:function(e,t){return w.push(e),S.push(t),s.async||(g?z(w,D,[v,this.statusText,this]):z(S,D,[this,this.statusText,T])),this},fail:function(e){return S.push(e),s.async||g||z(S,D,[this,this.statusText,T]),this},always:function(e){return R.push(e),s.async||z(R,D,[this,this.statusText]),this},done:function(e){return w.push(e),!s.async&&g&&z(w,D,[v,this.statusText,this]),this}};if(s.dataTypes=(s.dataType||"*").toLowerCase().match(M.regex.rnothtmlwhite),u=s.async="boolean"!=typeof s.async||s.async,p=s.global="boolean"!=typeof s.global||s.global,x=s.processData="boolean"!=typeof s.processData||s.processData,$&&null==s.crossDomain){m=document.createElement("a");try{m.href=s.url,m.href=m.href,s.crossDomain=m.protocol+"//"+m.host!=$.protocol+"//"+$.host}catch(e){s.crossDomain=!0}}for(l in m=s.url.replace(G,""),x&&(C?(x=s.url.slice(m.length),s.data&&(j=m,b=W(b=s.data),m=j+=(J.test(j)?"&":"?")+b),!1===s.cache&&(m=m.replace(P,"$1"),x=(J.test(m)?"&":"?")+"_="+N+++x),s.url=m+x):s.data&&(s.data=W(s.data))),M.ev&&p&&0==M.active++&&M.ev.trigger("ajaxStart"),(s.data&&!C&&!1!==s.contentType||s.contentType)&&F.setRequestHeader("Content-Type",s.contentType||"application/x-www-form-urlencoded; charset=UTF-8"),s.headers)F.setRequestHeader(l,s.headers[l]);if(F.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+("*"!==s.dataTypes[0]?",*/*; q=0.01":""):s.accepts["*"]),q&&(!1===q.call(D,F,s)||h))return F.abort();if(A="abort",s.success&&w.push(s.success),s.error&&S.push(s.error),s.complete&&R.push(s.complete),F.readyState=1,L&&L.trigger&&p&&L.trigger("ajaxSend",[F,s]),!h){var O=e||new XMLHttpRequest;for(y in O.open(H,s.url,u),s.xhrFields)O[y]=s.xhrFields[y];for(l in s.mimeType&&F.overrideMimeType(s.mimeType),s.crossDomain||E["X-Requested-With"]||(E["X-Requested-With"]="XMLHttpRequest"),E)O.setRequestHeader(l,E[l]);b=!C&&s.data||null,O.onload=function(){var e=_(O);U(O.status,O.statusText,e?O.response:O.responseText,O.getAllResponseHeaders(),e?"binary":"text")},O.onerror=O.onabort=function(){var e=_(O);U(O.status,O.statusText,e?O.response:O.responseText,O.getAllResponseHeaders(),e?"binary":"text")},s.async&&(O.timeout=s.timeout||0,O.ontimeout=function(){U(0,"timeout")}),O.send(b)}return F;function U(e,t,n,r,a){var o=t;h||(h=!0,d=r||"",F.readyState=0<e?4:0,(g=200<=e&&e<300||304===e)?(n=function(e,t,n,r){var a,o,s=t.dataTypes,i=t.contents;"*"===s[0]&&(a=t.mimeType||n.getResponseHeader("content-type"));if(a)for(o in i)if(i[o].test(a)){s[0]=o;break}"*"===s[0]&&(s[0]=r);return function(e,t,n,r,a){var o,s,i;if(e===t)return{data:n,state:"success"};if("HEAD"!==a.type){for(var c in s=e+" "+t,a.converters)if(c.toLowerCase()===s){i=a.converters[c];break}r.responseText=n;try{o=i?i(n):""}catch(e){return{data:void 0,state:"parseerror",error:e}}return M.ajaxSettings.responseFields[t]&&(r[M.ajaxSettings.responseFields[t]]=o),{data:o,state:"success"}}}(r,s[0],e,n,t)}(n,s,F,a),304==e?o="notmodified":204==e||"HEAD"==s.type?o="nocontent":(o=n.state,v=n.data,T=n.error,g=!T)):(F.responseText=n,!e&&o||(o="error",e=e<0?0:e),T=o),F.status=e,F.statusText=(o||t)+"",g?0<w.length&&z(w,D,[v,o,F]):0<S.length&&z(S,D,[F,o,T]),L&&L.trigger&&p&&L.trigger(g?"ajaxSuccess":"ajaxError",[F,s,g?v:T]),0<R.length&&z(R,D,[F,o]),L&&L.trigger&&p&&(L.trigger("ajaxComplete",[F,s]),M.ev)&&!--M.active&&M.ev.trigger("ajaxStop"))}},getScript:function(e,t,n){return M.get(e,t,n)},getJSON:function(e,t){return M.get(e,void 0,t)}}),M.each(["get","post"],function(e,a){M[a]=function(e,t,n,r){return M.isFunction(t)&&(r=r||n,n=t,t=void 0),M.ajax(M.extend({type:a,url:e,data:t,dataType:r,success:n},M.isPlainObject(e)&&e))}})});