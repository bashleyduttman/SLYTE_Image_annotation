!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.ZWAF=t()}(this,function(){"use strict";function e(e,t,r,o,i,n,L){if(o||!(t in e))return Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),1}catch(e){return}}()?(i=!0===i,n=!0===n,L=!0===L,Object.defineProperty(e,t,{value:r,writable:i,configurable:n,enumerable:L})):(e[t]=r,e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var t=(function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}(r,[{key:"debug",value:function(){var e;if(window&&window.console&&this.level!==this.LEVELS.NONE&&this.level===this.LEVELS.DEBUG){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];(e=window.console).debug.apply(e,r.concat([performance.now()]))}}},{key:"info",value:function(){var e;if(window&&window.console&&this.level!==this.LEVELS.NONE&&!(this.level>this.LEVELS.INFO)){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];(e=window.console).log.apply(e,r.concat([performance.now()]))}}},{key:"warn",value:function(){var e;if(window&&window.console&&this.level!==this.LEVELS.NONE&&!(this.level>this.LEVELS.WARN)){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];(e=window.console).warn.apply(e,r.concat([performance.now()]))}}},{key:"error",value:function(){var e;if(window&&window.console&&this.level!==this.LEVELS.NONE&&!(this.level>this.LEVELS.ERROR)){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];(e=window.console).error.apply(e,r.concat([performance.now()]))}}}]),r);function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.LEVELS={NONE:-1,DEBUG:0,INFO:1,WARN:2,ERROR:3},e===this.LEVELS.NONE||e===this.LEVELS.DEBUG||e===this.LEVELS.INFO||e===this.LEVELS.WARN||e===this.LEVELS.ERROR?this.level=e:this.level=this.LEVELS.ERROR}var i=window&&window.ZWAF?window.ZWAF:{version:"7.0.0"},t=new t;function l(e,t){for(var r=t.length;r--;)e[t[r]]=!0;return e}function _(e,t){if(e.MAX_LENGTH&&e.MAX_LENGTH.constructor!==Number)throw new Error("Invalid value for MAX_LENGTH in "+t+" rules",e);if(e.MIN_LENGTH&&e.MIN_LENGTH.constructor!==Number)throw new Error("Invalid value for MIN_LENGTH in "+t+" rules",e);if(e.REGEX&&e.REGEX.constructor!==RegExp)throw new Error("Invalid value for REGEX in "+t+" rules",e);if(e.LIST&&e.LIST.constructor!==Array)throw new Error("Invalid value for LIST in "+t+" rules",e)}i.defineProperty||(i.defineProperty=e),i.logger||(i.logger=t),i["7_0_0"]||(i["7_0_0"]={version:"7.0.0",defineProperty:e,logger:t});t={htmlPurifierValidation:function(e,t,r,o){if(!function(e,t){var r,o,i=l({},t);for(r in e)if(!(r in i))throw new Error("Invalid Flag in configuration! Value: "+r+". Must be one of the following: "+JSON.stringify(t));for(o in l({},["ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","SAFE_FOR_JQUERY","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_DOM_IMPORT","FORCE_BODY","SANITIZE_DOM","KEEP_CONTENT","STYLE_VALIDATION","REMOVE_ONEVENTS"]))if(!0!==e[o]&&!1!==e[o])throw new Error("Invalid Value for '"+o+"' in the configuration. It needs to be either 'true' or 'false'")}(e,t),e.SAFE_FOR_TEMPLATES&&e.ALLOW_DATA_ATTR)throw new Error("'ALLOW_DATA_ATTR' should not be set when 'SAFE_FOR_TEMPLATES' is true");if(e.ADD_URI_SAFE_ATTR||(e.ADD_URI_SAFE_ATTR=[]),e.ADD_URI_SAFE_ATTR.constructor!==Array)throw new Error("Invalid Value for 'ADD_URI_SAFE_ATTR' in the configuration.It must be an Array");e.GLOBAL_APPEND_ATTR||(e.GLOBAL_APPEND_ATTR=[]);for(var i,n,L,E,A=0;A<e.GLOBAL_APPEND_ATTR.length;A++){if(void 0===e.GLOBAL_APPEND_ATTR[A].ATTR_NAME||void 0===e.GLOBAL_APPEND_ATTR[A].VALUE)throw new Error("The Attribute Name and Attribute Value must be mentioned for GLOBAL_APPEND_ATTR rules",e.GLOBAL_APPEND_ATTR[A]);if(e.GLOBAL_APPEND_ATTR[A].SIBLING_CONDITIONS)for(var a=0;a<e.GLOBAL_APPEND_ATTR[A].SIBLING_CONDITIONS.length;a++){var f=e.GLOBAL_APPEND_ATTR[A].SIBLING_CONDITIONS[a];if(!f.ATTR_NAME)throw new Error("The Attribute Name must be mentioned for SIBLING_CONDITIONS rule",e.GLOBAL_APPEND_ATTR[A]);if(f.CONDITIONS)for(var T=0;T<f.CONDITIONS.length;T++)_(f.CONDITIONS[T],"GLOBAL_APPEND_ATTR")}}for(i in e.GLOBAL_ATTR_RULES||(e.GLOBAL_ATTR_RULES={}),e.GLOBAL_ATTR_RULES)Object.prototype.hasOwnProperty.call(e.GLOBAL_ATTR_RULES,i)&&_(e.GLOBAL_ATTR_RULES[i],"GLOBAL_ATTR_RULES");!function(e){if(e.ALLOWED_STYLE&&(e.ALLOWED_STYLE=e.ALLOWED_STYLE.toUpperCase(),"ALL"!==e.ALLOWED_STYLE&&"INTERNAL"!==e.ALLOWED_STYLE&&"INLINE"!==e.ALLOWED_STYLE&&"NONE"!==e.ALLOWED_STYLE))throw new Error("Invalid Value for 'ALLOWED_STYLE' in the configuration. It needs to be either 'ALL', 'INTERNAL', 'INLINE' or 'NONE'");if("ALL"===e.ALLOWED_STYLE){if(-1<e.FORBID_TAGS.indexOf("style")||-1<e.FORBID_ATTR.indexOf("style"))throw new Error("You have added style to the forbidden tag/attribute list but have specified to not remove it in the 'ALLOWED_STYLE' flag by setting it to 'ALL'")}else if("INLINE"===e.ALLOWED_STYLE){if(-1<e.GLOBAL_TAGS.indexOf("style"))throw new Error("You have added style to the allowed tag list but have specified to remove it in the 'ALLOWED_STYLE' flag by setting it to 'INLINE'");if(-1<e.FORBID_ATTR.indexOf("style"))throw new Error("You have added style to the forbidden tag/attribute list but have specified to not remove it in the 'ALLOWED_STYLE' flag by setting it to 'INLINE'")}else if("INTERNAL"===e.ALLOWED_STYLE){if(-1<e.GLOBAL_ATTR.indexOf("style"))throw new Error("You have added style to the allowed attribute list but have specified to remove it in the 'ALLOWED_STYLE' flag by setting it to 'INTERNAL'");if(-1<e.FORBID_TAGS.indexOf("style"))throw new Error("You have added style to the forbidden tag/attribute list but have specified to not remove it in the 'ALLOWED_STYLE' flag by setting it to 'INTERNAL'")}else if("NONE"===e.ALLOWED_STYLE&&(-1<e.GLOBAL_TAGS.indexOf("style")||-1<e.GLOBAL_ATTR.indexOf("style")))throw new Error("You have added style to the allowed tag/attribute list but have specified to remove it in the 'ALLOWED_STYLE' flag by setting it to 'NONE'")}(e),n=e.GLOBAL_TAGS,L=e.GLOBAL_ATTR,E=e.FORBID_TAGS,e.FORBID_ATTR,n.GLOBAL_TAGS.forEach(function(e){if(-1<n.FORBID_TAGS.indexOf(e.toLowerCase())&&"style"!==e)throw new Error("Conflict in Allowed and Forbidden Tags! Tag '"+e+"' is given in FORBID_TAGS and GLOBAL_TAGS in configuration!");if(-1<L.indexOf(e.toLowerCase()))throw new Error("Tag '"+e+"' is forbidden by default. The following Tags are forbidden by default: "+JSON.stringify(L))}),n.GLOBAL_ATTR.forEach(function(e){if(-1<n.FORBID_ATTR.indexOf(e.toLowerCase())&&"style"!==e)throw new Error("Conflict in Allowed and Forbidden Attributes! Attribute '"+e+"' is given in FORBID_ATTR and GLOBAL_ATTR in configuration!");if(-1<E.indexOf(e.toLowerCase()))throw new Error("Attribute '"+e+"' is forbidden by default. The following Attributes are forbidden by default: "+JSON.stringify(E))})}};return"7.0.0"!==i.version||i.ConfigValidator||i.defineProperty(i,"ConfigValidator",t,!0,!1,!1,!0),i["7_0_0"].ConfigValidator||i.defineProperty(i["7_0_0"],"ConfigValidator",t,!0,!1,!1,!0),i});
