import {ViewConnector} from "/data-store/connectors/view.js"
import { prop, one } from "@slyte/core";
import { Schema } from "../db.js";

class ViewSchema extends Schema {
    static observers() {
        return {
            invokeSave : function(){
                this.$.save();
            }.observes("sortBy","sortOrder","selectedFields")
        };
    }

    props() {
        return {
            id : prop("string"),
            name : prop("string"),
            fields : prop("array"),
            selectedFields :prop("array"),
            sortBy : prop("string"),
            navigation : one("navigation"),
            sortOrder : prop("string",{pattern:/desc|asc/}),

        };
    }

    static Connector = ViewConnector;
    
}

export { ViewSchema };