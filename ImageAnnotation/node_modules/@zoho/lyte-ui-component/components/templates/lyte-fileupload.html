<template tag-name="lyte-fileupload">
  <input class="fileuploadInput {{ltPropClass}}" id={{ltPropId}} type="file" name={{ltPropName}} onchange="{{action('change', event, this)}}" multiple={{ltPropMultiple}} accept={{ltPropAccept}}>
  <div tabindex={{ltPropTabindex}} class="fileUploadWrapper {{fileClass}} {{if(ltPropMultiple, 'multiFileupload', 'singleFileUpload')}} lyteFileUpd{{ltPropAppearance}}Type {{if(ltPropDisabled,'lyteFileUpdDisabled')}} {{maxFileClass}}" ondragenter="{{action('drag', event)}}" ondragover="{{action('drag', event)}}" ondrop="{{action('drop', event)}}" onclick="{{action('click', event)}}" style="outline: none;position: relative;" onpaste="{{action('paste', event)}}" onkeydown="{{action( 'keydown', event)}}" aria-labelledby="{{randomAriaId}}" data-tabindex="{{ltPropDataTabindex}}">
    <template lyte-if="{{ltPropYield}}">
      <lyte-yield yield-name="file" queue-list={{queueList}} predefined-list={{predefinedList}}></lyte-yield>
    </template>
    <template lyte-else>
      <template lyte-if="{{ltPropMultiple}}">
        <lyte-file-select-area>
          <lyte-file-message class="lyteFileUpdMsgWrap"> <span class="lyteFileUpdMsg">{{lyteUiI18n(ltPropMessage,"fileupload")}}</span> </lyte-file-message>
        </lyte-file-select-area>
        <div class="lyteFileUpdList">
          <template lyte-for="{{predefinedList}} as item index ">
            <div class="lyteFileUpdListFile">
              <div class="lyteFileUpdTypePreview">
                <template lyte-if="{{lyteUiImageFile(item)}}">
                  <img class="lyteFileUpdThumb" src={{item.src}}>
                </template>
                <template lyte-else>
                  <span class="lyteFileUpdTypeIcon {{item.fileType}}"></span>
                </template>

              </div>
              <lyte-text class="lyteFileUpdFileName" lt-prop-value={{item.name}}></lyte-text>
              <span class="lyteFileUpdFileSize">( {{lyteUiFileSize(item.size, ltPropFileUnit, ltPropDigits)}} )</span>
              <lyte-file-close data-value={{item.id}} role="button" aria-label="{{ariaCloseLabel}} selected {{item.name}} file">
              </lyte-file-close>
            </div>
          </template>

          <template lyte-for="{{queueList}} as item index ">
            <div class="lyteFileUpdListFile {{concat('lyteFile', lyteUiCapitalizeName(item.status))}}">
              <div class="lyteFileUpdTypePreview">
                <template lyte-if="{{lyteUiImageFile(item)}}">
                  <img class="lyteFileUpdThumb" src={{item.src}}>
                </template>
                <template lyte-else>
                  <span class="lyteFileUpdTypeIcon {{item.fileType}}"></span>
                </template>

              </div>
              <lyte-text class="lyteFileUpdFileName" lt-prop-value={{item.name}}></lyte-text>
              <span class="lyteFileUpdFileSize">( {{lyteUiFileSize(item.size, ltPropFileUnit, ltPropDigits)}} )</span>
              <template lyte-if="{{item.percentage != undefined}}">
                <div class="lyteFileUpdFileStatus" data-completed={{item.percentage}}>
                  <div class="lyteFileUpdProgressBar">
                    <div class="lyteFileUpdProgressFill" style="width: {{item.percentage}}%"></div>
                  </div>
                </div>
              </template>
              <template lyte-if="{{item.status == &quot;error&quot;}}">
                <lyte-file-retry data-value={{item.id}} role="button">
                  <span class="lyteFileUpdFailMsg">{{lyteUiI18n(ltPropFailureMessage,"fileupload")}}</span>
                  <template lyte-if="{{!ltPropUploadMultiple}}">
                    <span class="lyteFileUpdRetryMsg">{{lyteUiI18n(ltPropRetryText,"fileupload")}}</span>
                  </template>

                </lyte-file-retry>
              </template>

              <span lyte-if="{{item.lyteErrorMsg}}"
							class="lyteFileUpdFailMsg">
              {{item.lyteErrorMsg}}
              </span>
              <template lyte-if="{{(!ltPropUploadMultiple) || ( !item.status || item.status == &quot;error&quot; || item.status == &quot;success&quot; )}}">
                <lyte-file-close aria-level=2 tabindex="0" aria-label="{{ariaCloseLabel}} selected {{item.name}} file" role="button" data-value={{item.id}}>
                </lyte-file-close>
              </template>

            </div>
          </template>

        </div>
      </template>
      <template lyte-else>
        <lyte-file-select-area>
          <lyte-file-message class="lyteFileUpdMsgWrap {{if((queueList.length || predefinedList.length), 'lyteHide', '')}}">
            <span class="lyteFileUpdMsg">
            {{lyteUiI18n(ltPropMessage,"fileupload")}}
            </span>
          </lyte-file-message>
          <div class="lyteFileUpdList" tabindex="0" aria-level="2" aria-label="SelectedFile:{{ariaSelectedFiles}}">
            <template lyte-for="{{predefinedList}} as item index ">
              <div class="lyteFileUpdListFile">
                <div class="lyteFileUpdTypePreview">
                  <template lyte-if="{{lyteUiImageFile(item)}}">
                    <img class="lyteFileUpdThumb" src={{item.src}}>
                  </template>
                  <template lyte-else>
                    <span class="lyteFileUpdTypeIcon {{item.fileType}}"></span>
                  </template>

                </div>
                <lyte-text class="lyteFileUpdFileName" lt-prop-value={{item.name}}></lyte-text>
                <span class="lyteFileUpdFileSize">( {{lyteUiFileSize(item.size, ltPropFileUnit, ltPropDigits)}} )</span>
                <lyte-file-close data-value={{item.id}} aria-label="{{ariaCloseLabel}} selected {{item.name}} file" role="button">
                </lyte-file-close>
              </div>
            </template>

            <template lyte-for="{{queueList}} as item index ">
              <div class="lyteFileUpdListFile {{concat('lyteFile', lyteUiCapitalizeName(item.status))}}">
                <div class="lyteFileUpdTypePreview">
                  <template lyte-if="{{lyteUiImageFile(item)}}">
                    <img class="lyteFileUpdThumb" src={{item.src}}>
                  </template>
                  <template lyte-else>
                    <span class="lyteFileUpdTypeIcon {{item.fileType}}"></span>
                  </template>

                </div>
                <lyte-text class="lyteFileUpdFileName" lt-prop-value={{item.name}}></lyte-text>
                <span class="lyteFileUpdFileSize">( {{lyteUiFileSize(item.size, ltPropFileUnit, ltPropDigits)}} )</span>
                <template lyte-if="{{item.percentage != undefined}}">
                  <div class="lyteFileUpdFileStatus" data-completed={{item.percentage}}>
                    <div class="lyteFileUpdProgressBar">
                      <div class="lyteFileUpdProgressFill" style="width: {{item.percentage}}%"></div>
                    </div>
                  </div>
                </template>
                <template lyte-if="{{item.status == &quot;error&quot;}}">
                  <lyte-file-retry data-value={{item.id}} role="button">
                    <span class="lyteFileUpdFailMsg">{{lyteUiI18n(ltPropFailureMessage,"fileupload")}}</span>
                    <span class="lyteFileUpdRetryMsg">
                    {{lyteUiI18n(ltPropRetryText,"fileupload")}}
                    </span>
                  </lyte-file-retry>
                </template>

                <lyte-file-close data-value={{item.id}} tabindex="0" aria-label="{{ariaCloseLabel}} selected {{item.name}} file" role="button">
                </lyte-file-close>
              </div>
            </template>

          </div>
        </lyte-file-select-area>
      </template>


    </template>

    <div lyte-if="{{fileClass}}" ondragleave="{{action('drag', event)}}" class="lyteFileDragWrapper">
    </div>
  </div>
  <span lyte-if="{{ltPropAria}}" id={{randomAriaId}} style="display: none;">
		SelectedFiles:{{ariaSelectedFiles}}
	</span>
</template>