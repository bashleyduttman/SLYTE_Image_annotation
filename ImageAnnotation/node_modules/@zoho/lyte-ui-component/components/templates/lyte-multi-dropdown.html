<template tag-name="lyte-multi-dropdown">
  <template lyte-if="{{ltPropType=='checkbox'}}">
    <lyte-dropdown lt-prop-options="{{ltPropData}}" lt-prop-disabled-list="{{ltPropDisabledList}}" lt-prop-disabled="{{ltPropDisabled}}" lt-prop-user-value="{{ltPropUserValue}}" lt-prop-system-value="{{ltPropSystemValue}}" lt-prop-selected-list="{{ltPropSelected}}" lt-prop-type="multiple" lt-prop-no-result="" on-before-add="{{method('defaultBeforeAdd')}}" on-add="{{method('defaultAdd')}}" on-option-selected="{{method('onOptionSelected')}}" on-show="{{method('onShow')}}" on-before-show="{{method('onBeforeShow')}}" on-hide="{{method('onHide')}}" on-before-hide="{{method('onBeforeHide')}}" on-before-remove="{{method('onBeforeRemove')}}" on-position-changed="{{method('onPositionChanged')}}" before-select="{{method('beforeSelect')}}" on-change="{{method('onChange')}}" on-scroll="{{method('onScroll')}}" on-search="{{method('onSearch')}}">
      <template is="registerYield" yield-name="yield">
        <lyte-yield lyte-if="{{ltPropYield}}" yield-name="yield"></lyte-yield>
        <lyte-drop-button lyte-else id="{{lyteUiGetMultiDropId()}}">
          <span lyte-if="{{showPlace}}" class="lyteDropPlaceholderMultiple">{{ltPropPlaceholder}}</span>
          <div lyte-else class="lyteMultiDropSelectedText">
            <lyte-text lyte-if="{{ltPropShowCount}}" lt-prop-array='{{multiTextArray}}' lt-prop-hovercard='{"placement":"right"}' lt-prop-suffix=" and &lt;span class ='prefixClass'&gt;{0} others&lt;/span&gt;" lt-prop-min-count=1></lyte-text>
            <template lyte-else>
              {{multiText}}
            </template>
          </div>
        </lyte-drop-button>
        <lyte-hovercard lt-prop-origin-elem="#{{lyteUiGetMultiDropId()}}" lt-prop-auto-show="true" lt-prop-max-width="250px" lt-prop-placement="right">
          <template is="registerYield" yield-name="hoverCardYield">
            <lyte-hovercard-content class="lyteMultiDropdownHovercardContent">
              {{unescape(multiTextForHovercard)}}
            </lyte-hovercard-content>
          </template>
        </lyte-hovercard>
        <lyte-drop-box lyte-if="{{ltPropDataYield}}" class="lyteMultiDropdownCheckBoxTypeDropbox">
          <lyte-drop-body>
            <template lyte-for="{{ltPropData}} as item index "><template lyte-if="{{lyteUiOptGroupCheck(item)}}">
                <lyte-drop-group>
                  <lyte-drop-label>{{lyteUiReturnOnlyKey(item)}}</lyte-drop-label>
                  <template lyte-for="{{lyteUiReturnValueBy(item,lyteUiReturnOnlyKey(item))}} as subItem indexval ">
                    <lyte-drop-item data-value="{{subItem[ltPropSystemValue]}}">
                      <lyte-checkbox lt-prop-tabindex="-1" lt-prop-label="{{subItem[ltPropUserValue]}}" on-unchecked="{{method('defaultBeforeUnchecked')}}"></lyte-checkbox>
                    </lyte-drop-item>
                  </template>

                </lyte-drop-group>
              </template>
              <template lyte-else>
                <lyte-drop-item data-value="{{item[ltPropSystemValue]}}">
                  <lyte-checkbox lt-prop-tabindex="-1" lt-prop-label="{{item[ltPropUserValue]}}" on-unchecked="{{method('defaultBeforeUnchecked')}}" lt-prop-yield="true">
                    <template is="registerYield" yield-name="yield">
                      <lyte-yield yield-name="lytedropboxyield" drop-item="{{item}}"></lyte-yield>
                    </template>
                  </lyte-checkbox>
                </lyte-drop-item>
              </template>
            </template>

          </lyte-drop-body>
        </lyte-drop-box>
        <lyte-drop-box lyte-else class="lyteMultiDropdownCheckBoxTypeDropbox">
          <lyte-drop-body>
            <template lyte-for="{{ltPropData}} as item index "><template lyte-if="{{lyteUiOptGroupCheck(item)}}">
                <lyte-drop-group>
                  <lyte-drop-label>{{lyteUiReturnOnlyKey(item)}}</lyte-drop-label>
                  <template lyte-for="{{lyteUiReturnValueBy(item,lyteUiReturnOnlyKey(item))}} as subItem indexval ">
                    <lyte-drop-item data-value="{{subItem[ltPropSystemValue]}}">
                      <lyte-checkbox lt-prop-tabindex="-1" lt-prop-label="{{subItem[ltPropUserValue]}}" on-unchecked="{{method('defaultBeforeUnchecked')}}"></lyte-checkbox>
                    </lyte-drop-item>
                  </template>

                </lyte-drop-group>
              </template>
              <template lyte-else>
                <lyte-drop-item data-value="{{item[ltPropSystemValue]}}">
                  <lyte-checkbox lt-prop-tabindex="-1" lt-prop-label="{{item[ltPropUserValue]}}" on-unchecked="{{method('defaultBeforeUnchecked')}}"></lyte-checkbox>
                </lyte-drop-item>
              </template>
            </template>

          </lyte-drop-body>
        </lyte-drop-box>
      </template>
    </lyte-dropdown>
  </template>
  <template lyte-else>
    <lyte-dropdown lt-prop-type="multiple" lt-prop-options="{{ltPropData}}" lt-prop-disabled="{{ltPropDisabled}}" lt-prop-disabled-list="{{ltPropDisabledList}}" lt-prop-user-value="{{ltPropUserValue}}" lt-prop-system-value="{{ltPropSystemValue}}" lt-prop-selected-list="{{ltPropSelected}}" lt-prop-no-result="" on-before-add="{{method('multiBeforeAdd')}}" on-add="{{method('multiAdd')}}" on-option-selected="{{method('onOptionSelected')}}" on-show="{{method('onShow')}}" on-before-show="{{method('onBeforeShow')}}" on-hide="{{method('onHide')}}" on-before-hide="{{method('onBeforeHide')}}" on-before-remove="{{method('onBeforeRemove')}}" on-position-changed="{{method('onPositionChanged')}}" before-select="{{method('beforeSelect')}}" on-change="{{method('onChange')}}" on-scroll="{{method('onScroll')}}" on-search="{{method('onSearch')}}">
      <template is="registerYield" yield-name="yield">
        <lyte-yield lyte-if="{{ltPropYield}}" yield-name="yield"></lyte-yield>
        <lyte-drop-button lyte-else id="{{lyteUiGetMultiDropId()}}">
          <span lyte-if="{{showPlace}}" class="lyteDropPlaceholderMultiple">{{ltPropPlaceholder}}</span>
          <div lyte-else class="lyteMultiDropSelectedText">

            <lyte-text lyte-if="{{ltPropShowCount}}" lt-prop-array='{{multiTextArray}}' lt-prop-hovercard='{"placement":"right"}' lt-prop-suffix=" and &lt;span class ='prefixClass'&gt;{0} others&lt;/span&gt;" lt-prop-min-count=1></lyte-text>
            <template lyte-else>
              {{multiText}}
            </template>
          </div>

        </lyte-drop-button>
        <lyte-hovercard lt-prop-origin-elem='#{{lyteUiGetMultiDropId()}}' lt-prop-auto-show="true" lt-prop-max-width="250px" lt-prop-placement="right">
          <template is="registerYield" yield-name="hoverCardYield">
            <lyte-hovercard-content class="lyteMultiDropdownHovercardContent">
              {{unescape(multiTextForHovercard)}}
            </lyte-hovercard-content>
          </template>
        </lyte-hovercard>
        <lyte-drop-box lyte-if="{{ltPropDataYield}}" onclick="{{action('multiRemoveitem')}}" class="lyteMultiDropdownDropbox">
          <lyte-drop-body>
            <template lyte-for="{{ltPropData}} as item index "><template lyte-if="{{lyteUiOptGroupCheck(item)}}">
                <lyte-drop-group>
                  <lyte-drop-label>{{lyteUiReturnOnlyKey(item)}}</lyte-drop-label>
                  <template lyte-for="{{lyteUiReturnValueBy(item,lyteUiReturnOnlyKey(item))}} as subItem indexval ">
                    <lyte-drop-item data-value="{{subItem[ltPropSystemValue]}}">{{subItem[ltPropUserValue]}}</lyte-drop-item>
                  </template>

                </lyte-drop-group>
              </template>
              <template lyte-else>
                <lyte-drop-item data-value="{{item[ltPropSystemValue]}}">

                  <lyte-yield yield-name="lytedropboxyield" drop-item="{{item}}"></lyte-yield>
                </lyte-drop-item>
              </template>
            </template>

          </lyte-drop-body>
        </lyte-drop-box>
        <lyte-drop-box lyte-else onclick="{{action('multiRemoveitem')}}" class="lyteMultiDropdownDropbox">
          <lyte-drop-body>
            <template lyte-for="{{ltPropData}} as item index "><template lyte-if="{{lyteUiOptGroupCheck(item)}}">
                <lyte-drop-group>
                  <lyte-drop-label>{{lyteUiReturnOnlyKey(item)}}</lyte-drop-label>
                  <template lyte-for="{{lyteUiReturnValueBy(item,lyteUiReturnOnlyKey(item))}} as subItem indexval ">
                    <lyte-drop-item data-value="{{subItem[ltPropSystemValue]}}">{{subItem[ltPropUserValue]}}</lyte-drop-item>
                  </template>

                </lyte-drop-group>
              </template>
              <template lyte-else>
                <lyte-drop-item data-value="{{item[ltPropSystemValue]}}">
                  {{item[ltPropUserValue]}}
                </lyte-drop-item>
              </template>
            </template>

          </lyte-drop-body>
        </lyte-drop-box>
      </template>
    </lyte-dropdown>
  </template>
</template>