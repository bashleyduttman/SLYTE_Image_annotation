<template tag-name="lyte-listview-filter">
  <div class="lyteListViewFilterWrapper">
      <div class="lyteListViewFilters" lt-prop-node="{{lbind(some)}}" onkeydown="{{action('keyDownOnFilter' , this , event)}}">
          <template lyte-for="{{ltPropSearchContent}} as item index ">
              <div class="lyteFilterSearchWrap" index={{index}}>
                  <span class="lyteInputFilterLabel">{{item.name}}</span>

                  <template lyte-if={{item.column}}>
                      <span class="lyteFilterColumnName" oninput="{{action('spanInputChange' , this)}}" onfocus="{{action('setFocusedElem' , this)}}" onblur="{{action('onFilterBlur',this)}}"> {{item.column}} </span>
                  </template>

                  <template lyte-if="{{item.condition}}">
                      <span class="lyteFilterCondition" oninput="{{action('spanInputChange' , this)}}" onfocus="{{action('setFocusedElem' , this)}}" onblur="{{action('onFilterBlur',this)}}"> {{item.condition}} </span>
                  </template>

                  <template lyte-if="{{item.conditionValue}}">
                      <span class="lyteFilterConditionValue" onfocus="{{action('setFocusedElem' , this)}}" onblur="{{action('onFilterBlur',this)}}"> {{item.conditionValue}} </span>
                  </template>

                  <template lyte-else-if="{{shouldRenderInput(item)}}">
                      <template lyte-switch="{{getType(item)}}">
                          <template case="text">
                              <lyte-input lt-prop-appearance="box" lt-prop-update-delay class="lyteTextFilterElement lyteInputFilterName" lt-prop-value="{{lbind(customValue)}}" onblur="{{action('onFilterBlur',this)}}"></lyte-input>
                              <template is="break"></template>
                          </template>
                          <template case="number">
                              <lyte-number lt-prop-appearance="box" lt-prop-update-delay class="lyteNumberFilterElement lyteInputFilterName" lt-prop-value="{{lbind(customValue)}}" onblur="{{action('onFilterBlur',this)}}"></lyte-number>
                              <template is="break"></template>
                          </template>
                          <template case="date">
                              <lyte-datetime-input lt-prop-appearance="box" class="lyteDateFilterElement lyteInputFilterName" lt-prop-dropdown=true lt-prop-value={{lbind(customValue)}} onblur="{{action('onFilterBlur',this)}}" on-calendar-close="{{method('onFilterBlur', this, true)}}">
                              </lyte-datetime-input>
                              <template is="break"></template>
                          </template>
                          <template case="dateTime">
                              <lyte-datetime-input lt-prop-appearance="box" class="lyteDateTimeFilterElement lyteInputFilterName" lt-prop-dropdown=true lt-prop-value={{lbind(customValue)}} onblur="{{action('onFilterBlur',this)}}">
                              </lyte-datetime-input>
                              <template is="break"></template>
                          </template>
                          <template case="Date">
                              <lyte-input lt-prop-type='date' lt-prop-appearance="box" lt-prop-update-delay class="lyteDateFilterElement lyteInputFilterName" lt-prop-value="{{lbind(customValue)}}" onblur="{{action('onFilterBlur',this)}}" on-calendar-close="{{method('onFilterBlur', this, true)}}"></lyte-input>
                              <template is="break"></template>
                          </template>
                          <template case="time">
                              <lyte-time-picker lt-prop-inline=false class="lyteTimeFilterElement lyteInputFilterName" lt-prop-value="{{lbind(customValue)}}" lt-prop-time-format="{{ltPropTimeFormat}}" lt-prop-aria-attributes='{"input":"Time Picker"}' lt-prop-id="time" lt-prop-class="time" lt-prop-name="time" on-close="{{method('onFilterBlur',this)}}"></lyte-time-picker>
                              <template is="break"></template>
                          </template>
                          <template case="boolean">
                              <lyte-dropdown class="lyteBooleanFilterElement lyteInputFilterName" lt-prop-selected={{lbind(customValue)}} lt-prop-is-open={{lbind(isOpen)}}>
                                  <template is="registerYield" yield-name="yield">
                                      <lyte-drop-box class="lyteEditElementDropdown">
                                          <lyte-drop-body>
                                              <lyte-drop-item data-value=true>True</lyte-drop-item>
                                              <lyte-drop-item data-value=false>False</lyte-drop-item>
                                          </lyte-drop-body>
                                      </lyte-drop-box>
                                  </template>
                              </lyte-dropdown>
                              <template is="break"></template>
                          </template>
                          <template case="multiselect">
                              <lyte-dropdown class="lyteMultiselectFilterElement lyteInputFilterName" lt-prop-selected={{lbind(customValue)}} lt-prop-is-open={{lbind(isOpen)}} on-option-selected="{{method('dropSelected')}}">
                                  <template is="registerYield" yield-name="yield">
                                      <lyte-drop-button>
                                          <span class="lyteMarginRight lyteDropdownLabel">{{displayValue}}</span>
                                      </lyte-drop-button>
                                      <lyte-drop-box class="lyteEditElementDropdown">
                                          <template lyte-if="{{ltPropOptions.length>8}}">
                                              <lyte-drop-head>
                                                  <lyte-search lt-prop-placeholder="Search here..." lt-prop-query-selector='{"scope" : ".lyteEditElementDropdown:not(.lyteDropdownHidden)","search" : "lyte-drop-item"}' on-search="{{method('search')}}"></lyte-search>
                                              </lyte-drop-head>
                                          </template>

                                          <lyte-drop-body>
                                              <template lyte-for="{{ltPropOptions}} as item index ">
                                                  <lyte-drop-item data-label={{item.label}} data-value={{item.value}}>
                                                      <lyte-drop-label>{{item.label}}</lyte-drop-label>
                                                      <template lyte-if="{{item.email}}">
                                                          <lyte-drop-email>{{item.email}}</lyte-drop-email>
                                                      </template>

                                                  </lyte-drop-item>
                                              </template>

                                          </lyte-drop-body>
                                          <lyte-drop-footer class="{{noResult}}">{{ltPropNoResult}}</lyte-drop-footer>
                                      </lyte-drop-box>
                                  </template>
                              </lyte-dropdown>
                              <template is="break"></template>
                          </template>
                          <template case="custom">
                              <lyte-yield yield-name="lyte-custom-edit-yield" lt-prop-cell-data={{ltPropCellData}} lt-prop-row-data={{ltPropRowData}} lt-prop-value={{lbind(ltPropValue)}}></lyte-yield>
                              <template is="break"></template>
                          </template>
                          <template default>
                              <lyte-input lt-prop-appearance="box" lt-prop-update-delay class="lyteDefaultFilterElement lyteInputFilterName" lt-prop-class="lyteInputFilterName" onfocus="{{action('setFocusedElem' , this)}}" onblur="{{action('onFilterBlur',this)}}" oninput="{{action('onInputChange', this , index)}}"></lyte-input>
                              <template is="break"></template>
                              <!-- <input class="lyteDefaultFilterElement lyteInputFilterName" type="{{getType(item)}}"  onfocus="{{action('setFocusedElem' , this)}}" onblur="{{action('onFilterBlur',this)}}" index={{index}} oninput="{{action('onInputChange', this , index)}}"></input> -->
                          </template>
                      </template>
                  </template>

                  <!-- <%if(item.conditionValue){%>
                      <span class="lyteFilterConditionValue" onfocus="{{action('setFocusedElem' , this)}}"  onblur="{{action('onFilterBlur',this)}}" > {{item.conditionValue}} </span>
                  <%}else if(shouldRenderInput(item)){%> -->

                  <!-- <input class="lyteInputFilterName" type="{{getType(item)}}"  onfocus="{{action('setFocusedElem' , this)}}" onblur="{{action('onFilterBlur',this)}}" index={{index}} oninput="{{action('onInputChange', this , index)}}"></input> -->
                  <!-- <%}else if(renderCustom){%>
                      <%if(renderCustom == 'time'){%>
                    <lyte-time-picker lt-prop-inline="false" class="lyteInputFilterName lyteListTimeFilter" lt-prop-value="{{lbind(customValue)}}" lt-prop-time-format="hh:mm:ss A" lt-prop-aria-attributes='{"input":"Time Picker"}' lt-prop-id="time" lt-prop-class="time" lt-prop-name="time" on-close="{{method('onFilterBlur', this, true)}}"></lyte-time-picker>	
                      <%}else if(renderCustom == 'date' || renderCustom == 'Date'){%>
                    <lyte-input lt-prop-type = "date" class="lyteInputFilterName lyteListDateFilter" lt-prop-appearance="box" class = "lyteDateFilterFirst" lt-prop-input-wrapper-class = {{hideFirst}} lt-prop-format = {{ltPropFormat}} lt-prop-current-date = {{lbind(customValue)}} lt-prop-bind-to-body = false on-calendar-close="{{method('onFilterBlur', this, true)}}"></lyte-input>
                      <%}else if(renderCustom == 'dateTime'){%>
                    <lyte-datetime-input lt-prop-appearance="box" class="lyteInputFilterName lyteListDateTimeFilter" lt-prop-dropdown = true lt-prop-value = {{lbind(customValue)}} lt-prop = {{properties}} on-calendar-close="{{method('onFilterBlur', this, true)}}"></lyte-datetime-input>  
                      <%}%> -->
                  <!-- <%}%> -->
                  <span class="lyteListViewFilterClearIcon" onclick="{{action('removeFilter',this)}}"></span>
              </div>
          </template>

          <!-- <input class="lyteListViewFilterInput" type="text" placeholder="FILTERS"> -->
          <!-- <lyte-input lt-prop-class="lyteListViewFilterInput" lt-prop-appearance = 'flat' lt-prop-placeholder = {{inputPlaceHolder}} on-value-change="{{sd('inputChange', this)}}" lt-prop-value={{lbind(inputValue)}}> </lyte-input> -->
          <input class="lyteListViewFilterInput" placeholder={{inputPlaceHolder}} onfocus="{{action('setFocusedElem' , this)}}" onblur="{{action('onFilterBlur',this)}}" oninput="{{action('inputChange', this)}}" value={{lbind(inputValue)}}> 

      </div>
      <div class="lyteListViewDropdown lyteListViewDropdownHidden">
          <ul class="lyteListViewDropdownUl" onmouseover="{{action('listHover' , event , this)}}">
              <template lyte-for="{{renderContent}} as item index ">
                  <template lyte-if="{{index == 0}}">
                      <li class="lyteListViewDropdownLi lyteListViewDropdownHighlighted" row={{index}}>{{item}}</li>
                  </template>
                  <template lyte-else>
                      <li class="lyteListViewDropdownLi" row={{index}}>{{item}}</li>
                  </template>

              </template>

              <template lyte-if="{{noResultMessage}}">
                  <li class="lyteNoResultMessage">No Match Found</li>
              </template>

          </ul>
      </div>
  </div>
  <lyte-icon class="lyteAccordionC"></lyte-icon>

</template>