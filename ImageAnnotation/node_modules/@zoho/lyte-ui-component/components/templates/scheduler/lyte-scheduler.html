<template tag-name="lyte-scheduler">
  <lyte-scheduler-header>
    <template lyte-if="{{ltPropSchedulerHeaderYield}}">
      <lyte-yield yield-name='scheduler-header'></lyte-yield>
    </template>
    <template lyte-else>
      <div class="lyteSchedulerDefaultHeader">
        <lyte-scheduler-view>
          <lyte-button-group lt-prop-selected='{{ltPropSchedulerView}}' lt-prop-type='radiobutton' lt-prop-appearance="fill" on-select='{{method("ChangeSchedulerView")}}'>
            <template is="registerYield" yield-name="yield">
              <lyte-button lt-prop-value="day">
                <template is="registerYield" yield-name="text">
                  Day
                </template>
              </lyte-button>
              <lyte-button lt-prop-value="week">
                <template is="registerYield" yield-name="text">
                  Week
                </template>
              </lyte-button>
              <lyte-button lt-prop-value="month">
                <template is="registerYield" yield-name="text">
                  Month
                </template>
              </lyte-button>
            </template>
          </lyte-button-group>
        </lyte-scheduler-view>
        <div class="lyteSchedulerDateNavigator">
          <scheduler-Start-date onclick='{{action("hideandShowCalender",event,"lyteSchedulerCalenderStart")}}' class='lyteSchedulerStartDate'> {{ltCurrStartDate}} </scheduler-Start-date>
          <template lyte-if="{{ltPropSchedulerView == 'week'}}">
            <span class="lyteSchedulerTitleSeparator">To</span>
            <scheduler-end-date onclick='{{action("hideandShowCalender",event,"lyteSchedulerCalenderEnd")}}' class='lyteSchedulerEndDate'> {{ltCurrEndDate}} </scheduler-end-date>
          </template>

        </div>
        <lyte-scheduler-title>
          <span class="lyteSchedulerTitleDate">{{ltdisplayCurrDate}}</span>
          <span class="lyteSchedulerTitleDay">{{ltPropCurDay}}</span>
        </lyte-scheduler-title>
        <lyte-scheduler-nav>
          <span class='lyteSchedulerNavLeft'></span>
          <lyte-button onclick="{{action('today',event)}}" lt-prop-disabled="true" class='schedulerToday'>
            <template is='registerYield' yield-name='text'>
              {{todayButton}}
            </template>
          </lyte-button>
          <span class='lyteSchedulerNavRight'></span>
        </lyte-scheduler-nav>
      </div>
    </template>

  </lyte-scheduler-header>
  <lyte-scheduler-body>
    <div lyte-switch={{ltPropSchedulerView}} class="lyteSchedulerWrapperClass">
      <div lyte-case="month" lyte-break>
        <lyte-scheduler-month start-date-of-view="{{lbind(startDateOfView)}}" lt-prop-multi-user-view="{{ltPropMultiUserView}}" lt-prop-label="{{labelFF}}" lt-prop-display-year='{{lbind(ltPropDisplayYear)}}' lt-prop-curr-month="{{lbind(ltPropCurrMonth)}}" lt-prop-current-date="{{ltPropCurrentDate}}" lt-prop-format="{{ltPropFormat}}" lt-prop-manipulated-event="{{ltPropManipulatedEvent}}" lt-prop-business-days="{{ltPropBusinessDays}}" lt-prop-week-start="{{ltPropWeekStart}}" lt-prop-scheduler-user="{{ltPropSchedulerUser}}">
          <template is="yield" yield-name='lyteSchedulerEventYield'>
            <lyte-scheduler-event-tag class="{{schedulerEvent.class}}" lt-prop-event={{schedulerEvent}} data-id={{schedulerEvent.id}} event-render="{{method('eventRender')}}" onclick="{{action('onSchedulerEventClick',schedulerEvent ,this)}}" onmouseover="{{action('onSchedulerEventHover',schedulerEvent,this)}}">
              <lyte-yield yield-name='scheduler-event' scheduler-event={{schedulerEvent}}>
              </lyte-yield>
            </lyte-scheduler-event-tag>
          </template>
        </lyte-scheduler-month>
      </div>
      <div lyte-case='week' lyte-break>
        <lyte-scheduler-week start-date-of-view="{{lbind(startDateOfView)}}" lt-prop-event="{{eventArr}}" lt-prop-label="{{labelFF}}" lt-prop-scheduler-user="{{ltPropSchedulerUser}}" lt-prop-multi-user-view="{{ltPropMultiUserView}}" lt-prop-scheduler-search="{{ltPropSchedulerSearch}}" lt-prop-display-year='{{lbind(ltPropDisplayYear)}}' lt-prop-curr-month="{{lbind(ltPropCurrMonth)}}" lt-prop-manipulated-event="{{ltPropManipulatedEvent}}" lt-prop-format="{{ltPropFormat}}" lt-prop-scheduler-label-format={{ltPropSchedulerLabelFormat}} Time-line="{{TimeLine}}" lt-prop-week-start="{{ltPropWeekStart}}" lt-prop-current-date="{{ltPropCurrentDate}}" lt-prop-business-days="{{ltPropBusinessDays}}" timeline-array="{{timelineArray}}" lt-prop-scheduler-business-hour="{{ltPropSchedulerBusinessHour}}">
          <template is="yield" yield-name='lyteSchedulerUserIconYield'>
            <lyte-yield yield-name='scheduler-user-icon' scheduler-user={{schedulerUser}}>
            </lyte-yield>
          </template>
          <template is="yield" yield-name='lyteSchedulerEventYield'>
            <lyte-scheduler-event-tag class="{{schedulerEvent.class}}" lt-prop-event={{schedulerEvent}} data-id={{schedulerEvent.id}} event-render="{{method('eventRender')}}" onclick="{{action('onSchedulerEventClick',event ,this)}}" onmouseover="{{action('onSchedulerEventHover',event,this)}}">
              <lyte-yield yield-name='scheduler-event' scheduler-event={{schedulerEvent}}>
              </lyte-yield>
            </lyte-scheduler-event-tag>
          </template>
          <template is="yield" yield-name="lyteSchedulerUserYield">
            <lyte-yield yield-name='scheduler-user' scheduler-user={{schedulerUser}}>
            </lyte-yield>
          </template>
        </lyte-scheduler-week>
      </div>
      <div lyte-case='day' lyte-break>
        <lyte-scheduler-day lt-prop-event="{{eventArr}}" lt-prop-label="{{labelFF}}" lt-prop-scheduler-user="{{ltPropSchedulerUser}}" lt-prop-multi-user-view="{{ltPropMultiUserView}}" lt-prop-scheduler-search="{{ltPropSchedulerSearch}}" lt-prop-current-date="{{ltPropCurrentDate}}" selected-user-arr="{{selectedUserArr}}" lt-prop-display-year='{{lbind(ltPropDisplayYear)}}' lt-prop-format="{{ltPropFormat}}" lt-prop-curr-month="{{lbind(ltPropCurrMonth)}}" lt-prop-start-date-of-view="{{lbind(startDateOfView)}}" lt-prop-manipulated-event="{{ltPropManipulatedEvent}}" Time-line="{{TimeLine}}" lt-prop-week-start="{{ltPropWeekStart}}" lt-prop-business-days="{{ltPropBusinessDays}}" timeline-array="{{timelineArray}}" lt-prop-scheduler-business-hour="{{ltPropSchedulerBusinessHour}}">
          <template is="yield" yield-name='lyteSchedulerUserIconYield'>
            <lyte-yield yield-name="scheduler-user-icon" scheduler-user="{{schedulerUser}}"></lyte-yield>
          </template>
          <template is="yield" yield-name='lyteSchedulerEventYield'>
            <lyte-scheduler-event-tag class="{{schedulerEvent.class}}" lt-prop-event={{schedulerEvent}} data-id={{schedulerEvent.id}} event-render="{{method('eventRender')}}" onclick="{{action('onSchedulerEventClick',event ,this)}}" onmouseover="{{action('onSchedulerEventHover',event,this)}}">
              <lyte-yield yield-name='scheduler-event' scheduler-event={{schedulerEvent}}>
              </lyte-yield>
            </lyte-scheduler-event-tag>
          </template>
          <template is="yield" yield-name="lyteSchedulerUserYield">
            <lyte-yield yield-name='scheduler-user' scheduler-user={{schedulerUser}}>
            </lyte-yield>
          </template>
        </lyte-scheduler-day>
      </div>
    </div>
  </lyte-scheduler-body>


  <lyte-popover id='lyteSchedulerHiddenEvent' lt-prop-origin-elem='#schedulerPopover' lt-prop-header-padding="" lt-prop-content-padding="" lt-prop-freeze="false" lt-prop-wrapper-class="lyteSchedulerMoreEventsPopupWrapper" on-close='{{method("closeschedulerpopover")}}'>
    <template is='registerYield' yield-name='popover'>
      <lyte-popover-header>
        <div class="lyteSchedulerMoreEventsPopTitleMonthVal"></div>
        <div class="lyteSchedulerMoreEventsPopTitleDayVal"></div>
      </lyte-popover-header>
      <lyte-popover-content>
        <lyte-yield yield-name='scheduler-hidden-event' scheduler-hidden-event={{hiddenEvent}}>
        </lyte-yield>
      </lyte-popover-content>
    </template>
  </lyte-popover>
  <lyte-popover lt-prop-content-padding="0px" lt-prop-freeze=false lt-prop-type='box' lt-prop-show-close-button="false" id="calendarPopover" lt-prop-placement="bottomLeft" on-close='{{method("closeCalender")}}'>
    <template is="registerYield" yield-name="popover">
      <lyte-popover-content style="padding: 0px;">
        <lyte-calendar lt-prop-header-type="drilldown" on-month-selected='{{method("monthSelected")}}' on-week-selected='{{method("weekSelected")}}' lt-prop-selection-type={{selectionType}} on-date-selected='{{method("dateselect")}}' lt-prop-format="DD-MM-YYYY" lt-prop-start-week-day={{if(ifEquals(ltPropWeekStart,undefined),0,ltPropWeekStart)}} class='lyteSchedulerCalendar'></lyte-calendar>
      </lyte-popover-content>
    </template>
  </lyte-popover>
  <lyte-popover id="usersreachPopover" lt-Prop-origin-elem="lyte-search" lt-prop-close-on-body-click="true" on-before-close="{{method('onUserSearchClose')}}" lt-prop-freeze="false" lt-prop-type='box' lt-prop-show-close-button="false" lt-prop-placement="bottomLeft">
    <template is="registerYield" yield-name="popover">
      <lyte-popover-content>
        <template lyte-for="{{ltPropSchedulerUser}} as user index ">
          <div class="lyteSchedulerUserSearch">
            <lyte-checkbox lt-prop-name='checkbox' lt-prop-val={{index}} on-checked="{{method('boxChecked')}}" on-unchecked="{{method('boxUnchecked')}}"></lyte-checkbox>
            <lyte-yield yield-name='scheduler-user-search' scheduler-user={{user}}></lyte-yield>
          </div>
        </template>

      </lyte-popover-content>
      <lyte-popover-footer style="padding: 10px 25px 25px;">
        <lyte-button onclick="{{action('cancelUserSelect')}}">
          <template is="registerYield" yield-name="text"> Cancel </template>
        </lyte-button>
        <lyte-button lt-prop-appearance="primary" onclick="{{action('SelectUserSelect')}}">
          <template is="registerYield" yield-name="text"> Done </template>
        </lyte-button>
      </lyte-popover-footer>
    </template>
  </lyte-popover>
  <template lyte-if="{{ltPropSchedulerMenu}}">
    <template lyte-if="{{ltPropSchedulerMenuYeild}}">
      <lyte-menu lt-prop-yield={{ltPropSchedulerMenuYield}} lt-prop-event='contextmenu' lt-prop-query='.lyteSchedulerDate' lt-prop-user-value={{ltPropSchedulerMenuUserValue}} lt-prop-content={{ltPropSchedulerMenuContent}} lt-prop-system-value={{ltPropSchedulerMenuSystemValue}} lt-prop-description={{ltPropScheluerMenuDescription}} lt-prop-id={{ltPropSchedulerMenuId}} lt-prop-class={{ltPropSchedulerMenuClass}} lt-prop-position={{ltPropSchedulerMenuPosition}} lt-prop-width={{ltPropSchedulerMenuWidth}} lt-prop-height={{ltPropSchedulerMenuHeight}} lt-prop-callout={{ltPropSChedulerMenuCallout}} lt-prop-freeze={{ltPropSchedulerMenuFreeze}} lt-prop-query-class={{ltPropSchedulerMenuQueryClass}} lt-prop-animate={{ltPropSchedulerMenuAnimate}} lt-prop-wrapper-class={{ltPropSchedulerMenuWrapperClass}} lt-prop-bind-to-body={{ltPropSchedulerMenuBindToBody}} on-before-open="{{method('menuonbeforeopen')}}" on-open="{{method('menuonopen')}}" on-before-close="{{method('menuonbeforeclose')}}" on-close="{{method('menuonclose')}}" on-menu-click="{{method('menuonclick')}}">

        <template is="registerYield" yield-name="yield">
          <lyte-yield yield-name='scheduler-menu'></lyte-yield>
        </template>

      </lyte-menu>
    </template>
    <template lyte-else>
      <lyte-menu lt-prop-yield={{ltPropSchedulerMenuYield}} lt-prop-event='contextmenu' lt-prop-query='.lyteSchedulerDate' lt-prop-user-value={{ltPropSchedulerMenuUserValue}} lt-prop-content={{ltPropSchedulerMenuContent}} lt-prop-system-value={{ltPropSchedulerMenuSystemValue}} lt-prop-description={{ltPropScheluerMenuDescription}} lt-prop-id={{ltPropSchedulerMenuId}} lt-prop-class={{ltPropSchedulerMenuClass}} lt-prop-position={{ltPropSchedulerMenuPosition}} lt-prop-width={{ltPropSchedulerMenuWidth}} lt-prop-height={{ltPropSchedulerMenuHeight}} lt-prop-callout={{ltPropSChedulerMenuCallout}} lt-prop-freeze={{ltPropSchedulerMenuFreeze}} lt-prop-query-class={{ltPropSchedulerMenuQueryClass}} lt-prop-animate={{ltPropSchedulerMenuAnimate}} lt-prop-wrapper-class={{ltPropSchedulerMenuWrapperClass}} lt-prop-bind-to-body={{ltPropSchedulerMenuBindToBody}} on-before-open="{{method('menuonbeforeopen')}}" on-open="{{method('menuonopen')}}" on-before-close="{{method('menuonbeforeclose')}}" on-close="{{method('menuonclose')}}" on-menu-click="{{method('menuonclick')}}">

        <template is="registerYield" yield-name="yield">
          <lyte-yield yield-name='scheduler-menu'></lyte-yield>
        </template>

      </lyte-menu>
    </template>

  </template>

</template>