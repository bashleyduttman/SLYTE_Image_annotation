<template tag-name="lyte-dateselect">
  <lyte-dropdown lt-prop={{stringify(ltPropDropdown)}} before-select="{{method('keepTickOnCalendarSelection')}}" on-before-show="{{method('bfSw')}}" on-show="{{method('sw')}}" on-before-hide="{{method('bfHde')}}" on-hide="{{method('hde')}}" on-option-selected="{{method('optSel')}}" lt-prop-selected="{{lbind(ltPropSelected)}}" on-position-changed="{{method('posChange')}}">
    <template is="registerYield" yield-name='yield'>
      <lyte-drop-button id={{randomId}}>
        <template lyte-if="{{ltPropButtonYield}}">
          <lyte-yield yield-name='buttonYield' lt-prop-display-value={{ltPropDisplayValue}} lt-prop-selected={{ltPropSelected}}></lyte-yield>
        </template>
        <template lyte-else>
          <template lyte-if="{{ltPropSelected && ltPropDisplayValue}}">
            {{ltPropDisplayValue}}
          </template>
          <template lyte-else>
            <span class="lyteDropPlaceholderMultiple">{{ltPropDropdown.placeholder}}</span>
          </template>

          <lyte-icon class='dropdown'></lyte-icon>
        </template>

      </lyte-drop-button>
      <lyte-drop-box class={{ltPropDropdownWrapperClass}} id="lyteDateSelect">
        <lyte-drop-body class="lyteList">
          <template lyte-for-in="{{ltPropOptions}} as value key ">
            <lyte-drop-item data-value={{key}} class={{changeClass(key,this)}} aria-controls="{{randomId}}_{{key}}">
              <template lyte-if="{{ltPropItemYield}}">
                <lyte-yield yield-name="item" item-value={{ltPropOptions[key]}}></lyte-yield>
              </template>
              <template lyte-else><template lyte-if="{{value == true}}">
                  {{lyteUiI18n(key)}}
                </template>
                <template lyte-else>
                  {{value}}
                </template>
              </template>
              <template lyte-if="{{key == 'specificDate' || key == 'customRange' || key == 'before' || key == 'after'}}">
                <span class="{{if(ifEquals(pos, 'left'), 'dateArrow arrowLeft', 'dateArrow arrowRight')}}"></span>
              </template>

            </lyte-drop-item>
          </template>

        </lyte-drop-body>
      </lyte-drop-box>
    </template>
  </lyte-dropdown>
  <div class="dateSelectcal lyteDropdownHidden {{ltPropCalendarWrapperClass}}" aria-modal="true">
    <template lyte-if="{{opend}}">
      <template lyte-if="{{ltPropOptions.specificDate}}">
        <div class="specificDate lyteDropdownHidden" id="{{randomId}}_specificDate">
          <lyte-calendar lt-prop={{stringify(ltPropCalendar)}} lt-prop-current-date={{lbind(ltPropCurrentDate)}} on-date-selected="{{method('dateselected1')}}" on-navigate="{{method('rangenavigate', 'onNavigate')}}" lt-prop-activate-navigation="{{lbind(calNavigation)}}">
            <template lyte-if="{{ltPropCalendarYield}}">
              <template is="registerYield" yield-name="footer">
                <lyte-yield yield-name="footer"></lyte-yield>
              </template>
            </template>

          </lyte-calendar>
          <template lyte-if="{{ltPropFooterYield}}">
            <lyte-yield yield-name='dateselect-footer' selected={{ltPropSelected}} current-date={{ltPropCurrentDate}}></lyte-yield>
          </template>

        </div>
      </template>

      <template lyte-if="{{ltPropOptions.customRange}}">
        <div class="customRange lyteDropdownHidden" id="{{randomId}}_customRange">
          <lyte-daterangepicker lt-prop={{stringify(ltPropDateRangePicker)}} lt-prop-start-date={{lbind(ltPropStartDate)}} lt-prop-end-date={{lbind(ltPropEndDate)}} short-month-names={{shortMonthNames}} long-month-names={{longMonthNames}} cal-view-date1={{lbind(ltPropStartDateObject)}} cal-view-date2={{lbind(ltPropEndDateObject)}} on-date-selected="{{method('dateselected')}}" on-navigation="{{method('rangenavigate', 'onNavigation')}}" on-start-date-changed="{{method('startChange')}}" date-selected="{{lbind(dateSelected)}}" lt-prop-activate-navigation="{{lbind(rangeNavigation)}}" lt-prop-navigation=true prevent-keydown={{preventKeydown}}>
          </lyte-daterangepicker>
          <template lyte-if="{{ltPropFooterYield}}">
            <lyte-yield yield-name='dateselect-footer' selected={{ltPropSelected}} start-date={{ltPropStartDate}} end-date={{ltPropEndDate}}></lyte-yield>
          </template>

        </div>
      </template>

      <template lyte-if="{{ltPropOptions.before || ltPropOptions.after}}">
        <div class="lyteDsBeforeCal lyteDropdownHidden" id="{{randomId}}_before">
          <lyte-calendar lt-prop={{stringify(ltPropCalendar)}} lt-prop-current-date={{lbind(bfrAftrCurrentDate)}} on-date-selected="{{method('dateselected1', event, true)}}" on-navigate="{{method('rangenavigate', 'onNavigate')}}" lt-prop-activate-navigation="{{lbind(calNavigation)}}">
            <template lyte-if="{{ltPropCalendarYield}}">
              <template is="registerYield" yield-name="footer">
                <lyte-yield yield-name="footer"></lyte-yield>
              </template>
            </template>

          </lyte-calendar>
          <template lyte-if="{{ltPropFooterYield}}">
            <lyte-yield yield-name='dateselect-footer' selected={{ltPropSelected}} current-date={{ltPropCurrentDate}}></lyte-yield>
          </template>

        </div>
      </template>
    </template>

  </div>
</template>