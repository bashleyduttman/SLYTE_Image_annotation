{"version":3,"file":"vendors-node_modules_zoho_lyte-ui-component_components_javascript_lyte-wormhole_js.js","mappings":";;;;;;;;;;;;;;;;AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AAAA;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAhNA;AAAA;;AAAA;;;;;;;;;AAmNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AA5NA","sources":["webpack://Imageannotation/./node_modules/@zoho/lyte-ui-component/components/javascript/lyte-wormhole.js"],"sourcesContent":["import { prop } from \"@slyte/core\";\nimport { Component } from \"../component.js\";\n\n/**\n * This component is used to append a dom anywhere in the document\n * @component lyte-wormhole\n * @version 2.2.6\n * @methods onBeforeAppend,onAppend\n */\n\n\nclass LyteWormholeComponent extends Component {\n    constructor() {\n        super();\n    }\n\n    data() {\n\t\treturn {\n\t\t\t/**\n\t\t\t * @componentProperty {string} ltPropQuery\n\t\t\t * @version 2.2.6\n\t\t\t */\n\t\t\t'ltPropQuery' : prop( 'string' ),\n\n\t\t\t'ltPropAppendOnCreation': prop( 'boolean', { 'default': true } ),\n\n\t\t\t'ltPropAppend': prop( 'boolean', { 'default': false } ),\n\n\t\t\t'ltPropShow' : prop('boolean' , {\t'default' : false }),\n\n\t\t\t'ltPropFocusOnClose':  prop('boolean' , {\t'default' : false }),\n\n\t\t\t'stackMap': prop('object',{ default: {\n\t\t\t\t'LYTE-MODAL': 'modalStack',\n\t\t\t\t'LYTE-BETA-MODAL': 'betaModalStack',\n\t\t\t\t'LYTE-BETA-POPOVER': 'betaPopoverStack',\n\t\t\t\t'LYTE-POPOVER': 'popoverStack',\n\t\t\t\t'LYTE-MESSAGEBOX': 'messageboxStack',\n\t\t\t\t'LYTE-ALERT': 'alertStack',\n\t\t\t\t'LYTE-COLORBOX': 'colorboxStack'\n\t\t\t}})\n\t\t};\n\t}\n\n    didDestroy() {\n\t\tvar utilObj = this.createUtilObj(this);\n\t\tthis.handleRemovalFromStack( utilObj );\n\n\t\tthis.parent = null;\n\t\tif( window._lyteUiUtils && \n\t\t\t\twindow._lyteUiUtils.popupStack && \n\t\t\t\t\twindow._lyteUiUtils.popupStack.globalStack && \n\t\t\t\t\t\twindow._lyteUiUtils.popupStack.globalStack.length <= 0 ){\n\t\t\t\t\t\t\n\t\t\twindow._lyteUiUtils.popupStack=null;\n\t\t}\n\t}\n\n    appendContent() {\n\t\tvar ret, \n\t\toutlet = this.data.ltPropQuery ? document.querySelector( this.data.ltPropQuery ) : document.body;\n\n\t\tif( !outlet ) {\n\t\t\tconsole.error( 'Provide valid outlet to append' );\n\t\t\treturn;\n\t\t}\n\n\t\tif( this.getMethods( 'onBeforeAppend' ) && this.executeMethod( 'onBeforeAppend', this.$node, outlet ) == false ) {\n\t\t\treturn;\n\t\t}\n\t\tthis.parent = this.$node.parentElement;\n\t\twindow._lyteUiUtils.appendChild( outlet, this.$node );\n\t\tthis.appended = true;\n\n\t\tif( this.getMethods( 'onAppend' ) ) {\n\t\t\tthis.executeMethod( 'onAppend', this.$node, outlet )\n\t\t}\n\t}\n\n    bringContentBack() {\n\t\twindow._lyteUiUtils.appendChild( this.parent, this.$node );\n\t}\n\n    createUtilObj(wormhole) {\n\t\tvar utilObj={};\n\n\t\tif(wormhole.parent){\n\t\t\tutilObj.parentElement=wormhole.parent;\n\t\t} else {\n\t\t\tutilObj.parentElement=wormhole.$node.parentElement;\n\t\t}\n\t\tutilObj.focusedElement=document.activeElement;\n\t\tutilObj.childElement = wormhole.$node;\n\n\t\treturn utilObj;\n\t}\n\n    popUtilObj(utilObj, stackName, wormhole) {\n        var lyteSelf = this;\n        if( !utilObj || !window._lyteUiUtils || !window._lyteUiUtils.popupStack || !window._lyteUiUtils.popupStack[stackName]){\n\t\t\treturn;\n\t\t}\n\n        if( window._lyteUiUtils.popupStack[stackName].length>=1){\n\t\t\twindow._lyteUiUtils.popupStack[stackName].forEach(function(ele,ind){\n\t\t\t\t\tif(ele.parentElement==utilObj.parentElement){\n\t\t\t\t\t\tlyteSelf.$addon.arrayUtils( window._lyteUiUtils.popupStack[stackName], 'removeAt' , ind , 1 );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t}.bind(wormhole));\n\t\t}\n    }\n\n    handleInsertionIntoStack(utilObj) {\n\n\t\t\tif( !utilObj || !utilObj.parentElement || !utilObj.parentElement.tagName ){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar tagName = utilObj.parentElement.tagName;\n\t\t\tvar stackName = this.getData('stackMap')[tagName];\n\n\t\t\tthis.$addon.arrayUtils( window._lyteUiUtils.popupStack.globalStack, 'push', utilObj);\n\n\t\t\tif( stackName ){\n\t\t\t\tthis.$addon.arrayUtils( window._lyteUiUtils.popupStack[stackName], 'push', utilObj);\n\t\t\t}\n\t}\n\n    handleRemovalFromStack(utilObj) {\n        var lyteSelf = this;\n\n        if( !window._lyteUiUtils || !window._lyteUiUtils.popupStack || !window._lyteUiUtils.popupStack.globalStack ){\n\t\t\treturn;\n\t\t}\n        if( !utilObj || !utilObj.parentElement || !utilObj.parentElement.tagName ){\n\t\t\treturn;\n\t\t}\n\n        var tagName = utilObj.parentElement.tagName;\n        var stackName = this.getData('stackMap')[tagName];\n        var lastActiveElement;\n\n        if(window._lyteUiUtils.popupStack.globalStack.length >= 1){\n\n\t\t\tif( stackName ){\n\t\t\t\tthis.popUtilObj( utilObj, stackName, this );\n\t\t\t}\n\n\t\t\tvar focusElement, changeFocus=true;\n\t\t\twindow._lyteUiUtils.popupStack.globalStack.forEach(function(ele,ind){\n\t\t\t\tif(ele.parentElement==utilObj.parentElement){\n\t\t\t\t\tif(ind<window._lyteUiUtils.popupStack.globalStack.length-1){\n\t\t\t\t\t\tchangeFocus=false;\n\t\t\t\t\t\twindow._lyteUiUtils.popupStack.globalStack[ind+1].focusedElement =\t_lyteUiUtils.popupStack.globalStack[ind].focusedElement;\n\t\t\t\t\t}\n\t\t\t\t\tfocusElement = lyteSelf.$addon.arrayUtils( window._lyteUiUtils.popupStack.globalStack , 'removeAt' , ind , 1 );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}.bind(this));\n\n\t\t\tif(focusElement && focusElement[0]){\n\t\t\t\tlastActiveElement= focusElement[0].focusedElement;\n\t\t\t}\n\t\t\tif(changeFocus && lastActiveElement && this.getData('ltPropFocusOnClose')){\n\t\t\t\t\tlastActiveElement.focus();\t\n\t\t\t}\n\t\t}\n    }\n\n    static observers() {\n        return {\n            initFunc: function() {\n\n                if(!window._lyteUiUtils.popupStack){\n                    window._lyteUiUtils.popupStack = {\n                        globalStack:[],\n                        modalStack:[],\n                        betaModalStack:[],\n                        betaPopoverStack:[],\n                        popoverStack:[],\n                        alertStack:[],\n                        messageboxStack:[],\n                        colorboxStack:[]\n                    };\n                }\n\n                var utilObj = this.createUtilObj(this);\n\n                if(this.$node.getData('ltPropShow')){\n                    this.handleInsertionIntoStack( utilObj );\n                }\n                else {\n                    this.handleRemovalFromStack( utilObj );\n                }\n\n            }.observes( 'ltPropQuery','ltPropShow' ).on('init'),\n\n            didConnectFunc :function(){\n                var appendOnCreation = this.getData( 'ltPropAppendOnCreation' );\n\n                if( !appendOnCreation ) {\n                    return ;\n                }\n\n                // this.appendContent();\n                this.$node.ltProp( 'append', true );\n            }.observes( 'ltPropQuery' ).on( 'didConnect' ),\n\n            appendObserver: function() {\n                var append = this.getData( 'ltPropAppend' );\n\n                if( append ) {\n                    this.appendContent();\n                }\n                else {\n                    this.bringContentBack();\n                }\n            }.observes( 'ltPropAppend' )\n        };\n    }\n}\n\n/**\n * @syntax yielded\n * <lyte-wormhole>\n * \t  <template is = \"registerYield\" yield-name = \"lyte-content\">\n * \t\t Some wormhole content\n *\t  </template>\n * </lyte-wormhole>\n */\n\nexport { LyteWormholeComponent };"],"names":[],"sourceRoot":""}